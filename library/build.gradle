version = '0.3.0'

apply plugin: 'java'
apply plugin: 'jacoco'
apply plugin: 'com.github.kt3k.coveralls'
apply from: '../bintray.gradle'

repositories {
  jcenter()
  maven {
    url  'https://dl.bintray.com/android/android-tools'
  }
}

dependencies {
  compile 'com.android.tools.lint:lint-tests:24.3.1'
  compile group: 'junit', name: 'junit', version: '4.11'
  testCompile "org.mockito:mockito-core:1.9.5"
  testCompile 'org.assertj:assertj-core:3.1.0'
}

jacocoTestReport {
  reports {
    xml.enabled = true // coveralls plugin depends on xml format report
    html.enabled = true
  }
}

jar {
  from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}

publishing.publications.mavenJava(MavenPublication) {
  groupId 'de.ad'
  artifactId 'lint-junit-rule'
}

bintray.pkg {
  name = 'de.ad:lint-junit-rule'
  desc = 'A JUnit rule which allows unit testing of custom Lint rules.'
}
